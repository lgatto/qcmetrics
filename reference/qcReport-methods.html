<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Automatic report generation — qcReport-methods • qcmetrics</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Automatic report generation — qcReport-methods" />
<meta property="og:description" content="The qcReport method generates report in various formats taking
  a QcMetrics instance as input. Each individual
  quality control item produces a section with description of the item
  and a assessment figure." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">qcmetrics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.29.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/qcmetrics.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lgatto/qcmetrics/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Automatic report generation</h1>
    
    <div class="hidden name"><code>qcReport-methods.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>qcReport</code> method generates report in various formats taking
  a <code><a href='QcMetrics-class.html'>QcMetrics</a></code> instance as input. Each individual
  quality control item produces a section with description of the item
  and a assessment figure.</p>
    </div>



    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    

<p>The reporting functions take a <code>QcMetrics</code> instance as input,
  generate the source of the report and compile it into the final format
  that are currently available are <code>reporting_pdf</code>,
  <code>reporting_tex</code>, <code>reporting_rmd</code> and <code>reporting_html</code>.
  See <code><a href='Qc2Tex.html'>qcto</a></code> for details about the sectioning functions,
  that convert individual <code>QcMetric</code> objects into adequate report
  sections.</p>
<p>The package vignette documents the report generation in more details
  and describes possibilities for customisation.</p>
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    <p></p><dl>
    <dt><code>signature(
	object = "QcMetrics",
	reportname = "character",
	type = "character",
	author = "character",
	title = "character",
	metadata = "logical",
	toc = "logical",
	summary = "logical",
	sessioninfo = "logical",
	template = "character",
	clean = "logical",
	quiet = "logical",
	reporter,
	qcto,
	...)</code></dt><dd><p>generates a report for the <code><a href='QcMetrics-class.html'>QcMetrics</a></code>
      <code>object</code>. The report will be named according the 
      <code>reportname</code> (default is <code>qcreprt</code>)and <code>type</code>, the
      latter defining the output format and the extension. Possible
      types are <code>pdf</code> (default), "tex", "Rmd", "html" (all
      generated using the package <code>knitr</code>). A custom <code>title</code>
      can be provided; default is "Quality control report generated with
      qcmetrics". If no <code>author</code> is provided, the default value
      (<code><a href='https://rdrr.io/r/base/Sys.getenv.html'>Sys.getenv("USER")</a></code>) is used. The addition of a table of
      contents (default is <code>FALSE</code>), a metadata section, a summary
      section and the session information can be controlled with the
      <code>toc</code>, <code>metadata</code>, <code>summary</code> and
      <code>sessioninformation</code> arguments. The metadata section is
      added to the report when present and the other have <code>TRUE</code> as
      default.       It is possible to supply custom templates using the
      <code>template</code> arguments. Intermediate files are deleted, unless 
      <code>clean</code> is set to <code>FALSE</code> and verbose output can be turned
      on by setting <code>quiet</code> to <code>FALSE</code>.       The <code>reporter</code> and <code>qcto</code> arguments are used to convert
      <code>QcMetric</code> and <code>QcMetrics</code> objects into report
      source. See Details and the package vignette for details.      Addition parameters can be passed to inner functions. For the
      <code>pdf</code> report, passed to <code>texi2pdf</code>; for <code>html</code>,
      passed to <code><a href='https://rdrr.io/pkg/markdown/man/markdownToHTML.html'>markdown::markdownToHTML</a></code>.       The method invisibly returns the name of the report that was
      generated.</p></dd>
  
</dl>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/example.html'>example</a></span><span class='op'>(</span><span class='va'>QcMetrics</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt; QcMtrc&gt; example(QcMetric)
#&gt; 
#&gt; QcMtrc&gt; (qc &lt;- QcMetric())
#&gt; Object of class "QcMetric"
#&gt;  Name: A QcMetric prototype 
#&gt;  Status: NA 
#&gt;  Data: empty
#&gt; 
#&gt; QcMtrc&gt; qcdata(qc)
#&gt; character(0)
#&gt; 
#&gt; QcMtrc&gt; try(qcdata(qc, "x"))
#&gt; Error in qcdata(qc, "x") : No qcdata 'x' in object.
#&gt; 
#&gt; QcMtrc&gt; x &lt;- rnorm(10)
#&gt; 
#&gt; QcMtrc&gt; qcdata(qc, "qc1") &lt;- x
#&gt; 
#&gt; QcMtrc&gt; qcdata(qc, "qc2") &lt;- 1:10
#&gt; 
#&gt; QcMtrc&gt; qcdata(qc)
#&gt; [1] "qc1" "qc2"
#&gt; 
#&gt; QcMtrc&gt; all.equal(qcdata(qc, "qc1"), x)
#&gt; [1] TRUE
#&gt; 
#&gt; QcMtrc&gt; all.equal(qcdata(qc, "qc2"), 1:10)
#&gt; [1] TRUE
#&gt; 
#&gt; QcMtrc&gt; name(qc) &lt;- "My test QcMetric"
#&gt; 
#&gt; QcMtrc&gt; description(qc) &lt;- "This qc metric describes bla bla bla, indicating possible issues in the third step of protocol bla bla bla."
#&gt; 
#&gt; QcMtrc&gt; status(qc) &lt;- FALSE
#&gt; 
#&gt; QcMtrc&gt; qc
#&gt; Object of class "QcMetric"
#&gt;  Name: My test QcMetric 
#&gt;  Description:
#&gt; This qc metric describes bla bla bla, indicating possible issues in the
#&gt; third step of protocol bla bla bla.
#&gt;  Status: FALSE 
#&gt;  Data: qc1 qc2 
#&gt; 
#&gt; QcMtrc&gt; ## or
#&gt; QcMtrc&gt; e &lt;- new.env()
#&gt; 
#&gt; QcMtrc&gt; e$qc1 &lt;- rnorm(100)
#&gt; 
#&gt; QcMtrc&gt; e$qc2 &lt;- 1:100
#&gt; 
#&gt; QcMtrc&gt; qcdata(qc) &lt;- e
#&gt; 
#&gt; QcMtrc&gt; length(qcdata(qc, "qc1"))
#&gt; [1] 100
#&gt; 
#&gt; QcMtrc&gt; head(qcdata(qc, "qc2"))
#&gt; [1] 1 2 3 4 5 6
#&gt; 
#&gt; QcMtrc&gt; show(qc)
#&gt; Object of class "QcMetric"
#&gt;  Name: My test QcMetric 
#&gt;  Description:
#&gt; This qc metric describes bla bla bla, indicating possible issues in the
#&gt; third step of protocol bla bla bla.
#&gt;  Status: FALSE 
#&gt;  Data: qc1 qc2 
#&gt; 
#&gt; QcMtrc&gt; show(qc) &lt;- function(object) cat("Updated show method\n")
#&gt; 
#&gt; QcMtrc&gt; show(qc)
#&gt; Updated show method
#&gt; 
#&gt; QcMtrc&gt; show(qc) &lt;- qcshow
#&gt; 
#&gt; QcMtrc&gt; qc
#&gt; Object of class "QcMetric"
#&gt;  Name: My test QcMetric 
#&gt;  Description:
#&gt; This qc metric describes bla bla bla, indicating possible issues in the
#&gt; third step of protocol bla bla bla.
#&gt;  Status: FALSE 
#&gt;  Data: qc1 qc2 
#&gt; 
#&gt; QcMtrc&gt; plot(qc)</div><div class='output co'>#&gt; <span class='warning'>Warning: No specific plot function defined</span></div><div class='output co'>#&gt; 
#&gt; QcMtrc&gt; plot(qc) &lt;-
#&gt; QcMtrc+     function(object, ...) 
#&gt; QcMtrc+         plot(qcdata(object, "qc2"),
#&gt; QcMtrc+              qcdata(object, "qc1"),
#&gt; QcMtrc+              xlab = "qc1",
#&gt; QcMtrc+              ylab = "qc2",
#&gt; QcMtrc+              ...)
#&gt; 
#&gt; QcMtrc&gt; plot(qc)</div><div class='img'><img src='qcReport-methods-1.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; QcMtrc&gt; plot(qc, col = "red", pch = 19)</div><div class='output co'>#&gt; 
#&gt; QcMtrc&gt; ## Not run: 
#&gt; QcMtrc&gt; ##D     ## generate a report 
#&gt; QcMtrc&gt; ##D     qcReport(qcm)
#&gt; QcMtrc&gt; ## End(Not run)
#&gt; QcMtrc&gt; 
#&gt; QcMtrc&gt; 
#&gt; QcMtrc&gt; 
#&gt; 
#&gt; QcMtrc&gt; show(qc)
#&gt; Object of class "QcMetric"
#&gt;  Name: My test QcMetric 
#&gt;  Description:
#&gt; This qc metric describes bla bla bla, indicating possible issues in the
#&gt; third step of protocol bla bla bla.
#&gt;  Status: FALSE 
#&gt;  Data: qc1 qc2 
#&gt; 
#&gt; QcMtrc&gt; qc2 &lt;- QcMetric(name = "My other metric", status = TRUE)
#&gt; 
#&gt; QcMtrc&gt; qcdata(qc2, "x") &lt;- rnorm(100)
#&gt; 
#&gt; QcMtrc&gt; qcdata(qc2, "k") &lt;- rep(LETTERS[1:2], 50)
#&gt; 
#&gt; QcMtrc&gt; plot(qc2) &lt;- function(object, ...) {
#&gt; QcMtrc+     require("lattice")
#&gt; QcMtrc+     d &lt;- data.frame(x = qcdata(object, "x"),
#&gt; QcMtrc+                     k = qcdata(object, "k"))
#&gt; QcMtrc+     bwplot(x ~ k, data = d)
#&gt; QcMtrc+ }
#&gt; 
#&gt; QcMtrc&gt; qcm &lt;- QcMetrics(qcdata = list(qc, qc2))
#&gt; 
#&gt; QcMtrc&gt; qcm
#&gt; Object of class "QcMetrics"
#&gt;  containing 2 QC metrics.
#&gt;  and no metadata variables.
#&gt; 
#&gt; QcMtrc&gt; qcm[1] ## a QcMetrics instance
#&gt; Object of class "QcMetrics"
#&gt;  containing 1 QC metrics.
#&gt;  and no metadata variables.
#&gt; 
#&gt; QcMtrc&gt; qcm[[1]] ## a single QcMetric
#&gt; Object of class "QcMetric"
#&gt;  Name: My test QcMetric 
#&gt;  Description:
#&gt; This qc metric describes bla bla bla, indicating possible issues in the
#&gt; third step of protocol bla bla bla.
#&gt;  Status: FALSE 
#&gt;  Data: qc1 qc2 
#&gt; 
#&gt; QcMtrc&gt; metadata(qcm)
#&gt; list()
#&gt; 
#&gt; QcMtrc&gt; metadata(qcm) &lt;- QcMetadata(list(name = "Prof. Who",
#&gt; QcMtrc+                                  lab = "Cabin University"))
#&gt; 
#&gt; QcMtrc&gt; ## or, shorter but equivalent
#&gt; QcMtrc&gt; metadata(qcm) &lt;- list(name = "Prof. Who",
#&gt; QcMtrc+                       lab = "Cabin University")
#&gt; 
#&gt; QcMtrc&gt; metadata(qcm) ## or mdata(qcm)
#&gt; $name
#&gt; [1] "Prof. Who"
#&gt; 
#&gt; $lab
#&gt; [1] "Cabin University"
#&gt; 
#&gt; 
#&gt; QcMtrc&gt; ## update metadata
#&gt; QcMtrc&gt; metadata(qcm) &lt;- list(lab = "Big lab", ## updated
#&gt; QcMtrc+                       uni = "Cabin University") ## added
#&gt; 
#&gt; QcMtrc&gt; mdata(qcm)
#&gt; $name
#&gt; [1] "Prof. Who"
#&gt; 
#&gt; $lab
#&gt; [1] "Big lab"
#&gt; 
#&gt; $uni
#&gt; [1] "Cabin University"
#&gt; </div><div class='input'><span class='fu'>show</span><span class='op'>(</span><span class='va'>qcm</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Object of class "QcMetrics"
#&gt;  containing 2 QC metrics.
#&gt;  and 3 metadata variables.</div><div class='input'>
<span class='va'>destdir</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>(</span><span class='va'>report</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='va'>destdir</span>, <span class='st'>"testQCReport"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "/tmp/RtmpPxVihB/testQCReport"</div><div class='input'>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='co'>## pdf report</span>
  <span class='fu'>qcReport</span><span class='op'>(</span><span class='va'>qcm</span>, reportname <span class='op'>=</span> <span class='va'>report</span><span class='op'>)</span>
  <span class='co'>## use pdflatex to generate the pdf file</span>
  <span class='fu'>qcReport</span><span class='op'>(</span><span class='va'>qcm</span>, reportname <span class='op'>=</span> <span class='va'>report</span>, texi2dvi <span class='op'>=</span> <span class='st'>"pdflatex"</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'>## default html report</span>
<span class='va'>html</span> <span class='op'>&lt;-</span> <span class='fu'>qcReport</span><span class='op'>(</span><span class='va'>qcm</span>, reportname <span class='op'>=</span> <span class='va'>report</span>, type <span class='op'>=</span> <span class='st'>"html"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Report written to /tmp/RtmpPxVihB/testQCReport.html</span></div><div class='input'><span class='va'>html</span>
</div><div class='output co'>#&gt; [1] "/tmp/RtmpPxVihB/testQCReport.html"</div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/utils/browseURL.html'>browseURL</a></span><span class='op'>(</span><span class='va'>html</span><span class='op'>)</span>

<span class='co'>## using a custom css templates</span>
<span class='fu'><a href='https://rdrr.io/r/base/writeLines.html'>writeLines</a></span><span class='op'>(</span><span class='st'>"
body {
    font-size: 14pt;
    width: 650px;
    background: #789855;
    margin-left: auto;
    margin-right: auto;
    margin-top: 20px;
    margin-bottom: 20;
    text-align:justify;
}"</span>, con <span class='op'>=</span> <span class='st'>"style.css"</span><span class='op'>)</span>

<span class='va'>html2</span> <span class='op'>&lt;-</span> <span class='fu'>qcReport</span><span class='op'>(</span><span class='va'>qcm</span>, reportname <span class='op'>=</span> <span class='st'>"customreport"</span>, template <span class='op'>=</span> <span class='st'>"style.css"</span>, type <span class='op'>=</span> <span class='st'>"html"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Report written to customreport.html</span></div><div class='img'><img src='qcReport-methods-2.png' alt='' width='700' height='433' /></div><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/utils/browseURL.html'>browseURL</a></span><span class='op'>(</span><span class='va'>html2</span><span class='op'>)</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Laurent Gatto.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


